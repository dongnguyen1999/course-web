<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Thêm bài học</title>
  <th:block th:replace="web/fragments/general :: meta"/>
  <th:block th:replace="web/fragments/general :: link"/>
  <link rel="stylesheet" th:href="@{/web/css/edit-lesson.css}">
</head>
<body>
<div th:replace="web/fragments/general :: header"></div>
<div id="wrapper" class="wrapper-content">
<div class="container-fluid p-4 bg-light">
  <form id="createLessonForm" action="" method="post" novalidate>
    <input type="hidden" name="courseId" th:value="${course.id}">
    <div class="row">
      <div class="col-md-8">
        <div class="form-group">
          <label class="control-label" for="title">Tựa đề bài học:</label>
          <input type="text" class="form-control" id="title" name="title" required
                 th:placeholder="'Bài học ' + ${course.nextAvailableLessonNo}" >
          <div class="invalid-feedback">
            <span>Tựa đề không được bỏ trống</span>
          </div>
        </div>
        <div class="form-group row m-0 mb-2">
          <label class="col-sm-3 col-md-3 p-0 control-label" for="duration">Thời lượng:</label>
          <select class="col-sm-4 col-md-4 custom-select" id="duration" name="duration">
            <option selected value="">Chưa xác định</option>
            <th:block th:each="i: ${#numbers.sequence(5, 250, 5)}">
              <option th:value="${i}" th:text="'khoảng ' + ${i} + ' phút'"></option>
            </th:block>
          </select>
        </div>
        <div class="form-group">
          <label class="control-label" for="shortDescription">Mô tả ngắn bài học</label>
          <textarea class="form-control" id="shortDescription" name="shortDescription"></textarea>
        </div>
        <div class="form-group">
          <label class="control-label" for="content">Mô tả ngắn bài học</label>
          <textarea class="form-control" id="content" name="content"></textarea>
        </div>

      </div>
      <div class="col-md-4 d-flex flex-column align-items-center">
        <div class="card d-none d-md-block">
          <img class="card-img-top card-img-thumbnail" th:src="@{/web/img/default-thumbnail.png}" src=""
               alt="Course thumbnail">
          <div class="card-body">
            <h3 class="card-title font-weight-bold" th:text="${course.title}">Title</h3>
            <h4 class="card-subtitle text-danger" th:text="${course.price != 0}? ${course.price}: 'Miễn phí'">
              10000 VND</h4>
            <hr>
            <p class="card-text" th:utext="${course.shortDescription}?: 'Không có mô tả'">Short description</p>
          </div>
        </div>
        <button class="btn btn-primary m-5 d-none d-md-block" type="submit">THÊM BÀI HỌC MỚI</button>
      </div>
    </div><!--row.-->
    <div class="row d-flex justify-content-center m-2">
      <button class="btn btn-primary d-block d-md-none" type="submit">THÊM BÀI HỌC MỚI</button>
    </div>
  </form>
  <div th:replace="web/fragments/modal :: informationModal(
        showCondition=${createLessonStatus == false},
        headerColor='bg-danger',
        title='Thêm bài học thất bại',
        content='Có gì đó sai sai<br>Có thể do hệ thống quá tải, vui lòng thử lại sau'
      )"></div>
</div><!--container.-->
</div><!--wrapper content.-->

<div th:replace="web/fragments/general :: footer"></div>
<th:block th:replace="web/fragments/general :: script"/>
<script src="https://cdn.ckeditor.com/4.15.0/basic/ckeditor.js"></script>
<script th:src="@{/web/js/common.js}"></script>
<script th:replace="web/fragments/modal :: informationModalController(showCondition=${createLessonStatus == false})"></script>

<script>
  CKEDITOR.replace('shortDescription');
  CKEDITOR.replace('content', {
    height: '45rem',
  });
  $(function () {
    simpleFormValidation('createLessonForm');
  })
</script>
</body>
</html>