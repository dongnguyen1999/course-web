<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Đăng nhập</title>
  <th:block th:replace="web/fragments/general :: meta" />
  <th:block th:replace="web/fragments/general :: link"/>
  <link rel="stylesheet" type="text/css" th:href="@{/web/css/general.css}" >
  <link rel="stylesheet" type="text/css" th:href="@{/web/css/register.css}" >

</head>
<body>
<div th:replace="web/fragments/general :: header"></div>
<div id="wrapper" class="wrapper-content">
<div class="container">
  <hr>
  <div class="card">
    <article class="card-body mx-auto">
      <h1 class="card-title mt-3 text-center">
        <div class="display-4 form-title">
          ĐĂNG NHẬP TÀI KHOẢN
        </div>
      </h1>
      <p class="text-center">Đăng nhập và bắt đầu chia sẻ khóa học của riêng mình</p>
      <form id="loginForm" action="/login" method="post" class="col-md-4">
        <!--Avatar image-->
        <div class="mt-5 mb-5 avatar-container">
          <img id="user-image" class="avatar z-depth-1" th:src="@{/web/img/default-avatar.png}" alt="default avatar">
        </div>
        <!--Username input-->
        <div class="mb-3">
          <div class="form-group input-group mb-0">
            <div class="input-group-prepend">
              <span class="input-group-text"> <i class="fa fa-user"></i> </span>
            </div>
            <input name="username" class="form-control" placeholder="Tên đăng nhập" type="text">
          </div> <!--form-group.-->
          <small id="usernameHelp" class="form-text text-primary hide"></small>
        </div>

        <!--Password input-->
        <div class="mb-5">
          <div class="form-group input-group mb-0">
            <div class="input-group-prepend">
              <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
            </div>
            <input name="password" class="form-control" placeholder="Mật khẩu" type="password">
          </div> <!--form-group.-->
          <small id="passwordHelp" class="form-text text-primary hide"></small>
        </div>

        <!--Submit button-->
        <div class="mb-2">
          <button type="submit" class="btn btn-primary btn-block">ĐĂNG NHẬP</button>
        </div> <!--form-group.-->
        <p class="text-center">Chưa có tài khoản? <a class="login-switch" href="/register">Đăng ký</a> </p>
        <input th:if="${navigateUrl != null}" th:value="${navigateUrl}" type="hidden" name="navigateUrl">
      </form>

      <div th:replace="web/fragments/modal :: informationModal(
        showCondition=${loginFailed},
        headerColor='bg-danger',
        title='Đăng nhập thất bại',
        content='Tên tài khoản hoặc mật khẩu không chính xác<br>Vui lòng đăng nhập lại'
      )"></div>

    </article><!--card-body.-->
  </div><!--card.-->
</div><!--container.-->
</div><!--wrapper content.-->

<div th:replace="web/fragments/general :: footer"></div>
<th:block th:replace="web/fragments/general :: script"/>
<script th:src="@{/web/js/register-form-validation.js}"></script>
<script th:replace="web/fragments/modal :: informationModalController(showCondition=${loginFailed})"></script>


<script>
  $('input[name="username"]').change(function () {
    getUserAvatar($(this).val());
  });
</script>

</body>
</html>